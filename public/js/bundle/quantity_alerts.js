"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2222],{6285:(t,e,a)=>{a.r(e),a.d(e,{default:()=>l});var s=a(74865),o=a.n(s);const r={metaInfo:{title:"Products Alert"},data:function(){return{isLoading:!0,serverParams:{sort:{field:"id",type:"desc"},page:1,perPage:10},limit:"10",totalRows:"",products:[],warehouses:[],warehouse_id:""}},computed:{columns:function(){return[{label:this.$t("ProductCode"),field:"code",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("ProductName"),field:"name",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("warehouse"),field:"warehouse",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("Quantity"),field:"quantity",tdClass:"text-left",thClass:"text-left",sortable:!1},{label:this.$t("AlertQuantity"),field:"stock_alert",tdClass:"text-left",thClass:"text-left",sortable:!1}]}},methods:{updateParams:function(t){this.serverParams=Object.assign({},this.serverParams,t)},onPageChange:function(t){var e=t.currentPage;this.serverParams.page!==e&&(this.updateParams({page:e}),this.Get_Stock_Alerts(e))},onPerPageChange:function(t){var e=t.currentPerPage;this.limit!==e&&(this.limit=e,this.updateParams({page:1,perPage:e}),this.Get_Stock_Alerts(1))},Selected_Warehouse:function(t){null===t&&(this.warehouse_id=""),this.Get_Stock_Alerts(1)},Get_Stock_Alerts:function(t){var e=this;o().start(),o().set(.1),axios.get("Products/Stock/Alerts?page="+t+"&warehouse="+this.warehouse_id+"&limit="+this.limit).then((function(t){e.products=t.data.products.data,e.warehouses=t.data.warehouses,e.totalRows=t.data.products.total,o().done(),e.isLoading=!1})).catch((function(t){o().done(),setTimeout((function(){e.isLoading=!1}),500)}))}},created:function(){this.Get_Stock_Alerts(1)}};const l=(0,a(51900).Z)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-content"},[a("breadcumb",{attrs:{page:t.$t("ProductQuantityAlerts"),folder:t.$t("Reports")}}),t._v(" "),t.isLoading?a("div",{staticClass:"loading_page spinner spinner-primary mr-3"}):t._e(),t._v(" "),t.isLoading?t._e():a("vue-good-table",{attrs:{mode:"remote",columns:t.columns,totalRows:t.totalRows,rows:t.products,"pagination-options":{enabled:!0,mode:"records",nextLabel:"next",prevLabel:"prev"},styleClass:"table-hover tableOne vgt-table"},on:{"on-page-change":t.onPageChange,"on-per-page-change":t.onPerPageChange},scopedSlots:t._u([{key:"table-row",fn:function(e){return["stock_alert"==e.column.field?a("div",[a("span",{staticClass:"badge badge-outline-danger"},[t._v(t._s(e.row.stock_alert))])]):t._e()]}}],null,!1,1779411104)},[a("div",{staticClass:"mt-2 mb-3 quantity_alert_warehouse",attrs:{slot:"table-actions"},slot:"table-actions"},[a("b-form-group",{attrs:{label:t.$t("warehouse")}},[a("v-select",{attrs:{reduce:function(t){return t.value},placeholder:t.$t("Choose_Warehouse"),options:t.warehouses.map((function(t){return{label:t.name,value:t.id}}))},on:{input:t.Selected_Warehouse},model:{value:t.warehouse_id,callback:function(e){t.warehouse_id=e},expression:"warehouse_id"}})],1)],1)])],1)}),[],!1,null,null,null).exports}}]);